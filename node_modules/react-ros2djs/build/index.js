module.exports=function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=28)}([function(t,e,i){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var s=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(t){s[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},s)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,o,a=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),c=1;c<arguments.length;c++){for(var h in i=Object(arguments[c]))n.call(i,h)&&(a[h]=i[h]);if(s){o=s(i);for(var l=0;l<o.length;l++)r.call(i,o[l])&&(a[o[l]]=i[o[l]])}}return a}},function(t,e,i){(function(s){var n;
/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */!function(r){var o=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=10;function c(){this._events={},this._conf&&h.call(this,this._conf)}function h(t){t?(this._conf=t,t.delimiter&&(this.delimiter=t.delimiter),this._maxListeners=t.maxListeners!==r?t.maxListeners:a,t.wildcard&&(this.wildcard=t.wildcard),t.newListener&&(this.newListener=t.newListener),t.verboseMemoryLeak&&(this.verboseMemoryLeak=t.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=a}function l(t,e){var i="(node) warning: possible EventEmitter memory leak detected. "+t+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(i+=" Event name: "+e+"."),void 0!==s&&s.emitWarning){var n=new Error(i);n.name="MaxListenersExceededWarning",n.emitter=this,n.count=t,s.emitWarning(n)}else console.error(i),console.trace&&console.trace()}function p(t){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,h.call(this,t)}function u(t,e,i,s){if(!i)return[];var n,r,o,a,c,h,l,p=[],f=e.length,m=e[s],d=e[s+1];if(s===f&&i._listeners){if("function"==typeof i._listeners)return t&&t.push(i._listeners),[i];for(n=0,r=i._listeners.length;n<r;n++)t&&t.push(i._listeners[n]);return[i]}if("*"===m||"**"===m||i[m]){if("*"===m){for(o in i)"_listeners"!==o&&i.hasOwnProperty(o)&&(p=p.concat(u(t,e,i[o],s+1)));return p}if("**"===m){for(o in(l=s+1===f||s+2===f&&"*"===d)&&i._listeners&&(p=p.concat(u(t,e,i,f))),i)"_listeners"!==o&&i.hasOwnProperty(o)&&("*"===o||"**"===o?(i[o]._listeners&&!l&&(p=p.concat(u(t,e,i[o],f))),p=p.concat(u(t,e,i[o],s))):p=o===d?p.concat(u(t,e,i[o],s+2)):p.concat(u(t,e,i[o],s)));return p}p=p.concat(u(t,e,i[m],s+1))}if((a=i["*"])&&u(t,e,a,s+1),c=i["**"])if(s<f)for(o in c._listeners&&u(t,e,c,f),c)"_listeners"!==o&&c.hasOwnProperty(o)&&(o===d?u(t,e,c[o],s+2):o===m?u(t,e,c[o],s+1):((h={})[o]=c[o],u(t,e,{"**":h},s+1)));else c._listeners?u(t,e,c,f):c["*"]&&c["*"]._listeners&&u(t,e,c["*"],f);return p}p.EventEmitter2=p,p.prototype.delimiter=".",p.prototype.setMaxListeners=function(t){t!==r&&(this._maxListeners=t,this._conf||(this._conf={}),this._conf.maxListeners=t)},p.prototype.event="",p.prototype.once=function(t,e){return this._once(t,e,!1)},p.prototype.prependOnceListener=function(t,e){return this._once(t,e,!0)},p.prototype._once=function(t,e,i){return this._many(t,1,e,i),this},p.prototype.many=function(t,e,i){return this._many(t,e,i,!1)},p.prototype.prependMany=function(t,e,i){return this._many(t,e,i,!0)},p.prototype._many=function(t,e,i,s){var n=this;if("function"!=typeof i)throw new Error("many only accepts instances of Function");function r(){return 0==--e&&n.off(t,r),i.apply(this,arguments)}return r._origin=i,this._on(t,r,s),n},p.prototype.emit=function(){this._events||c.call(this);var t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return!1;var e,i,s,n,r,o=arguments.length;if(this._all&&this._all.length){if(r=this._all.slice(),o>3)for(e=new Array(o),n=0;n<o;n++)e[n]=arguments[n];for(s=0,i=r.length;s<i;s++)switch(this.event=t,o){case 1:r[s].call(this,t);break;case 2:r[s].call(this,t,arguments[1]);break;case 3:r[s].call(this,t,arguments[1],arguments[2]);break;default:r[s].apply(this,e)}}if(this.wildcard){r=[];var a="string"==typeof t?t.split(this.delimiter):t.slice();u.call(this,r,a,this.listenerTree,0)}else{if("function"==typeof(r=this._events[t])){switch(this.event=t,o){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(e=new Array(o-1),n=1;n<o;n++)e[n-1]=arguments[n];r.apply(this,e)}return!0}r&&(r=r.slice())}if(r&&r.length){if(o>3)for(e=new Array(o-1),n=1;n<o;n++)e[n-1]=arguments[n];for(s=0,i=r.length;s<i;s++)switch(this.event=t,o){case 1:r[s].call(this);break;case 2:r[s].call(this,arguments[1]);break;case 3:r[s].call(this,arguments[1],arguments[2]);break;default:r[s].apply(this,e)}return!0}if(!this._all&&"error"===t)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},p.prototype.emitAsync=function(){this._events||c.call(this);var t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var e,i,s,n,r,o=[],a=arguments.length;if(this._all){if(a>3)for(e=new Array(a),n=1;n<a;n++)e[n]=arguments[n];for(s=0,i=this._all.length;s<i;s++)switch(this.event=t,a){case 1:o.push(this._all[s].call(this,t));break;case 2:o.push(this._all[s].call(this,t,arguments[1]));break;case 3:o.push(this._all[s].call(this,t,arguments[1],arguments[2]));break;default:o.push(this._all[s].apply(this,e))}}if(this.wildcard){r=[];var h="string"==typeof t?t.split(this.delimiter):t.slice();u.call(this,r,h,this.listenerTree,0)}else r=this._events[t];if("function"==typeof r)switch(this.event=t,a){case 1:o.push(r.call(this));break;case 2:o.push(r.call(this,arguments[1]));break;case 3:o.push(r.call(this,arguments[1],arguments[2]));break;default:for(e=new Array(a-1),n=1;n<a;n++)e[n-1]=arguments[n];o.push(r.apply(this,e))}else if(r&&r.length){if(r=r.slice(),a>3)for(e=new Array(a-1),n=1;n<a;n++)e[n-1]=arguments[n];for(s=0,i=r.length;s<i;s++)switch(this.event=t,a){case 1:o.push(r[s].call(this));break;case 2:o.push(r[s].call(this,arguments[1]));break;case 3:o.push(r[s].call(this,arguments[1],arguments[2]));break;default:o.push(r[s].apply(this,e))}}else if(!this._all&&"error"===t)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(o)},p.prototype.on=function(t,e){return this._on(t,e,!1)},p.prototype.prependListener=function(t,e){return this._on(t,e,!0)},p.prototype.onAny=function(t){return this._onAny(t,!1)},p.prototype.prependAny=function(t){return this._onAny(t,!0)},p.prototype.addListener=p.prototype.on,p.prototype._onAny=function(t,e){if("function"!=typeof t)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),e?this._all.unshift(t):this._all.push(t),this},p.prototype._on=function(t,e,i){if("function"==typeof t)return this._onAny(t,e),this;if("function"!=typeof e)throw new Error("on only accepts instances of Function");return this._events||c.call(this),this.emit("newListener",t,e),this.wildcard?(function(t,e){for(var i=0,s=(t="string"==typeof t?t.split(this.delimiter):t.slice()).length;i+1<s;i++)if("**"===t[i]&&"**"===t[i+1])return;for(var n=this.listenerTree,o=t.shift();o!==r;){if(n[o]||(n[o]={}),n=n[o],0===t.length)return n._listeners?("function"==typeof n._listeners&&(n._listeners=[n._listeners]),n._listeners.push(e),!n._listeners.warned&&this._maxListeners>0&&n._listeners.length>this._maxListeners&&(n._listeners.warned=!0,l.call(this,n._listeners.length,o))):n._listeners=e,!0;o=t.shift()}return!0}.call(this,t,e),this):(this._events[t]?("function"==typeof this._events[t]&&(this._events[t]=[this._events[t]]),i?this._events[t].unshift(e):this._events[t].push(e),!this._events[t].warned&&this._maxListeners>0&&this._events[t].length>this._maxListeners&&(this._events[t].warned=!0,l.call(this,this._events[t].length,t))):this._events[t]=e,this)},p.prototype.off=function(t,e){if("function"!=typeof e)throw new Error("removeListener only takes instances of Function");var i,s=[];if(this.wildcard){var n="string"==typeof t?t.split(this.delimiter):t.slice();s=u.call(this,null,n,this.listenerTree,0)}else{if(!this._events[t])return this;i=this._events[t],s.push({_listeners:i})}for(var a=0;a<s.length;a++){var c=s[a];if(i=c._listeners,o(i)){for(var h=-1,l=0,p=i.length;l<p;l++)if(i[l]===e||i[l].listener&&i[l].listener===e||i[l]._origin&&i[l]._origin===e){h=l;break}if(h<0)continue;return this.wildcard?c._listeners.splice(h,1):this._events[t].splice(h,1),0===i.length&&(this.wildcard?delete c._listeners:delete this._events[t]),this.emit("removeListener",t,e),this}(i===e||i.listener&&i.listener===e||i._origin&&i._origin===e)&&(this.wildcard?delete c._listeners:delete this._events[t],this.emit("removeListener",t,e))}return function t(e){if(e!==r){var i=Object.keys(e);for(var s in i){var n=i[s],o=e[n];o instanceof Function||"object"!=typeof o||null===o||(Object.keys(o).length>0&&t(e[n]),0===Object.keys(o).length&&delete e[n])}}}(this.listenerTree),this},p.prototype.offAny=function(t){var e,i=0,s=0;if(t&&this._all&&this._all.length>0){for(i=0,s=(e=this._all).length;i<s;i++)if(t===e[i])return e.splice(i,1),this.emit("removeListenerAny",t),this}else{for(i=0,s=(e=this._all).length;i<s;i++)this.emit("removeListenerAny",e[i]);this._all=[]}return this},p.prototype.removeListener=p.prototype.off,p.prototype.removeAllListeners=function(t){if(0===arguments.length)return!this._events||c.call(this),this;if(this.wildcard)for(var e="string"==typeof t?t.split(this.delimiter):t.slice(),i=u.call(this,null,e,this.listenerTree,0),s=0;s<i.length;s++){i[s]._listeners=null}else this._events&&(this._events[t]=null);return this},p.prototype.listeners=function(t){if(this.wildcard){var e=[],i="string"==typeof t?t.split(this.delimiter):t.slice();return u.call(this,e,i,this.listenerTree,0),e}return this._events||c.call(this),this._events[t]||(this._events[t]=[]),o(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]},p.prototype.eventNames=function(){return Object.keys(this._events)},p.prototype.listenerCount=function(t){return this.listeners(t).length},p.prototype.listenersAny=function(){return this._all?this._all:[]},(n=function(){return p}.call(e,i,e,t))===r||(t.exports=n)}()}).call(this,i(35))},function(t,e){function i(t){t=t||{},this.x=t.x||0,this.y=t.y||0,this.z=t.z||0}i.prototype.add=function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z},i.prototype.subtract=function(t){this.x-=t.x,this.y-=t.y,this.z-=t.z},i.prototype.multiplyQuaternion=function(t){var e=t.w*this.x+t.y*this.z-t.z*this.y,i=t.w*this.y+t.z*this.x-t.x*this.z,s=t.w*this.z+t.x*this.y-t.y*this.x,n=-t.x*this.x-t.y*this.y-t.z*this.z;this.x=e*t.w+n*-t.x+i*-t.z-s*-t.y,this.y=i*t.w+n*-t.y+s*-t.x-e*-t.z,this.z=s*t.w+n*-t.z+e*-t.y-i*-t.x},i.prototype.clone=function(){return new i(this)},t.exports=i},function(t,e,i){var s=i(0);t.exports=function(t){s(this,t)}},function(t,e,i){var s=i(0);t.exports=function(t){s(this,t)}},function(t,e){function i(t){t=t||{},this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w="number"==typeof t.w?t.w:1}i.prototype.conjugate=function(){this.x*=-1,this.y*=-1,this.z*=-1},i.prototype.norm=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},i.prototype.normalize=function(){var t=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);0===t?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/t,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t)},i.prototype.invert=function(){this.conjugate(),this.normalize()},i.prototype.multiply=function(t){var e=this.x*t.w+this.y*t.z-this.z*t.y+this.w*t.x,i=-this.x*t.z+this.y*t.w+this.z*t.x+this.w*t.y,s=this.x*t.y-this.y*t.x+this.z*t.w+this.w*t.z,n=-this.x*t.x-this.y*t.y-this.z*t.z+this.w*t.w;this.x=e,this.y=i,this.z=s,this.w=n},i.prototype.clone=function(){return new i(this)},t.exports=i},function(t,e){t.exports={URDF_SPHERE:0,URDF_BOX:1,URDF_CYLINDER:2,URDF_MESH:3}},function(t,e,i){var s=i(15),n=(i(4),i(1).EventEmitter2);function r(t){t=t||{},this.ros=t.ros,this.name=t.name,this.serviceType=t.serviceType,this.isAdvertised=!1,this._serviceCallback=null}r.prototype.__proto__=n.prototype,r.prototype.callService=function(t,e,i){if(!this.isAdvertised){var n="call_service:"+this.name+":"+ ++this.ros.idCounter;(e||i)&&this.ros.once(n,function(t){void 0!==t.result&&!1===t.result?"function"==typeof i&&i(t.values):"function"==typeof e&&e(new s(t.values))});var r={op:"call_service",id:n,service:this.name,type:this.serviceType,args:t};this.ros.callOnConnection(r)}},r.prototype.advertise=function(t){this.isAdvertised||"function"!=typeof t||(this._serviceCallback=t,this.ros.on(this.name,this._serviceResponse.bind(this)),this.ros.callOnConnection({op:"advertise_service",type:this.serviceType,service:this.name}),this.isAdvertised=!0)},r.prototype.unadvertise=function(){this.isAdvertised&&(this.ros.callOnConnection({op:"unadvertise_service",service:this.name}),this.isAdvertised=!1)},r.prototype._serviceResponse=function(t){var e={},i=this._serviceCallback(t.args,e),n={op:"service_response",service:this.name,values:new s(e),result:i};t.id&&(n.id=t.id),this.ros.callOnConnection(n)},t.exports=r},function(t,e,i){var s=i(1).EventEmitter2,n=i(3);function r(t){t=t||{},this.ros=t.ros,this.name=t.name,this.messageType=t.messageType,this.isAdvertised=!1,this.compression=t.compression||"none",this.throttle_rate=t.throttle_rate||0,this.latch=t.latch||!1,this.queue_size=t.queue_size||100,this.queue_length=t.queue_length||0,this.reconnect_on_close=t.reconnect_on_close||!0,this.compression&&"png"!==this.compression&&"cbor"!==this.compression&&"none"!==this.compression&&(this.emit("warning",this.compression+" compression is not supported. No compression will be used."),this.compression="none"),this.throttle_rate<0&&(this.emit("warning",this.throttle_rate+" is not allowed. Set to 0"),this.throttle_rate=0);var e=this;this.reconnect_on_close?this.callForSubscribeAndAdvertise=function(t){e.ros.callOnConnection(t),e.waitForReconnect=!1,e.reconnectFunc=function(){e.waitForReconnect||(e.waitForReconnect=!0,e.ros.callOnConnection(t),e.ros.once("connection",function(){e.waitForReconnect=!1}))},e.ros.on("close",e.reconnectFunc)}:this.callForSubscribeAndAdvertise=this.ros.callOnConnection,this._messageCallback=function(t){e.emit("message",new n(t))}}r.prototype.__proto__=s.prototype,r.prototype.subscribe=function(t){"function"==typeof t&&this.on("message",t),this.subscribeId||(this.ros.on(this.name,this._messageCallback),this.subscribeId="subscribe:"+this.name+":"+ ++this.ros.idCounter,this.callForSubscribeAndAdvertise({op:"subscribe",id:this.subscribeId,type:this.messageType,topic:this.name,compression:this.compression,throttle_rate:this.throttle_rate,queue_length:this.queue_length}))},r.prototype.unsubscribe=function(t){t&&(this.off("message",t),this.listeners("message").length)||this.subscribeId&&(this.ros.off(this.name,this._messageCallback),this.reconnect_on_close&&this.ros.off("close",this.reconnectFunc),this.emit("unsubscribe"),this.ros.callOnConnection({op:"unsubscribe",id:this.subscribeId,topic:this.name}),this.subscribeId=null)},r.prototype.advertise=function(){if(!this.isAdvertised&&(this.advertiseId="advertise:"+this.name+":"+ ++this.ros.idCounter,this.callForSubscribeAndAdvertise({op:"advertise",id:this.advertiseId,type:this.messageType,topic:this.name,latch:this.latch,queue_size:this.queue_size}),this.isAdvertised=!0,!this.reconnect_on_close)){var t=this;this.ros.on("close",function(){t.isAdvertised=!1})}},r.prototype.unadvertise=function(){this.isAdvertised&&(this.reconnect_on_close&&this.ros.off("close",this.reconnectFunc),this.emit("unadvertise"),this.ros.callOnConnection({op:"unadvertise",id:this.advertiseId,topic:this.name}),this.isAdvertised=!1)},r.prototype.publish=function(t){this.isAdvertised||this.advertise(),this.ros.idCounter++;var e={op:"publish",id:"publish:"+this.name+":"+this.ros.idCounter,topic:this.name,msg:t,latch:this.latch};this.ros.callOnConnection(e)},t.exports=r},function(t,e){t.exports=function(t,e,i){e.forEach(function(e){var s=i[e];t.prototype[e]=function(t){return t.ros=this,new s(t)}})}},function(t,e,i){var s=i(14),n=i(30),r=i(7),o=i(4),a=i(0),c=i(1).EventEmitter2;function h(t){t=t||{},this.socket=null,this.idCounter=0,this.isConnected=!1,this.transportLibrary=t.transportLibrary||"websocket",this.transportOptions=t.transportOptions||{},void 0===t.groovyCompatibility?this.groovyCompatibility=!0:this.groovyCompatibility=t.groovyCompatibility,this.setMaxListeners(0),t.url&&this.connect(t.url)}h.prototype.__proto__=c.prototype,h.prototype.connect=function(t){if("socket.io"===this.transportLibrary)this.socket=a(io(t,{"force new connection":!0}),n(this)),this.socket.on("connect",this.socket.onopen),this.socket.on("data",this.socket.onmessage),this.socket.on("close",this.socket.onclose),this.socket.on("error",this.socket.onerror);else if("RTCPeerConnection"===this.transportLibrary.constructor.name)this.socket=a(this.transportLibrary.createDataChannel(t,this.transportOptions),n(this));else if(!this.socket||this.socket.readyState===s.CLOSED){var e=new s(t);e.binaryType="arraybuffer",this.socket=a(e,n(this))}},h.prototype.close=function(){this.socket&&this.socket.close()},h.prototype.authenticate=function(t,e,i,s,n,r,o){var a={op:"auth",mac:t,client:e,dest:i,rand:s,t:n,level:r,end:o};this.callOnConnection(a)},h.prototype.callOnConnection=function(t){var e=this,i=JSON.stringify(t),s=null;s="socket.io"===this.transportLibrary?function(t){e.socket.emit("operation",t)}:function(t){e.socket.send(t)},this.isConnected?s(i):e.once("connection",function(){s(i)})},h.prototype.setStatusLevel=function(t,e){var i={op:"set_level",level:t,id:e};this.callOnConnection(i)},h.prototype.getActionServers=function(t,e){var i=new r({ros:this,name:"/rosapi/action_servers",serviceType:"rosapi/GetActionServers"}),s=new o({});"function"==typeof e?i.callService(s,function(e){t(e.action_servers)},function(t){e(t)}):i.callService(s,function(e){t(e.action_servers)})},h.prototype.getTopics=function(t,e){var i=new r({ros:this,name:"/rosapi/topics",serviceType:"rosapi/Topics"}),s=new o;"function"==typeof e?i.callService(s,function(e){t(e)},function(t){e(t)}):i.callService(s,function(e){t(e)})},h.prototype.getTopicsForType=function(t,e,i){var s=new r({ros:this,name:"/rosapi/topics_for_type",serviceType:"rosapi/TopicsForType"}),n=new o({type:t});"function"==typeof i?s.callService(n,function(t){e(t.topics)},function(t){i(t)}):s.callService(n,function(t){e(t.topics)})},h.prototype.getServices=function(t,e){var i=new r({ros:this,name:"/rosapi/services",serviceType:"rosapi/Services"}),s=new o;"function"==typeof e?i.callService(s,function(e){t(e.services)},function(t){e(t)}):i.callService(s,function(e){t(e.services)})},h.prototype.getServicesForType=function(t,e,i){var s=new r({ros:this,name:"/rosapi/services_for_type",serviceType:"rosapi/ServicesForType"}),n=new o({type:t});"function"==typeof i?s.callService(n,function(t){e(t.services)},function(t){i(t)}):s.callService(n,function(t){e(t.services)})},h.prototype.getServiceRequestDetails=function(t,e,i){var s=new r({ros:this,name:"/rosapi/service_request_details",serviceType:"rosapi/ServiceRequestDetails"}),n=new o({type:t});"function"==typeof i?s.callService(n,function(t){e(t)},function(t){i(t)}):s.callService(n,function(t){e(t)})},h.prototype.getServiceResponseDetails=function(t,e,i){var s=new r({ros:this,name:"/rosapi/service_response_details",serviceType:"rosapi/ServiceResponseDetails"}),n=new o({type:t});"function"==typeof i?s.callService(n,function(t){e(t)},function(t){i(t)}):s.callService(n,function(t){e(t)})},h.prototype.getNodes=function(t,e){var i=new r({ros:this,name:"/rosapi/nodes",serviceType:"rosapi/Nodes"}),s=new o;"function"==typeof e?i.callService(s,function(e){t(e.nodes)},function(t){e(t)}):i.callService(s,function(e){t(e.nodes)})},h.prototype.getNodeDetails=function(t,e,i){var s=new r({ros:this,name:"/rosapi/node_details",serviceType:"rosapi/NodeDetails"}),n=new o({node:t});"function"==typeof i?s.callService(n,function(t){e(t.subscribing,t.publishing,t.services)},function(t){i(t)}):s.callService(n,function(t){e(t)})},h.prototype.getParams=function(t,e){var i=new r({ros:this,name:"/rosapi/get_param_names",serviceType:"rosapi/GetParamNames"}),s=new o;"function"==typeof e?i.callService(s,function(e){t(e.names)},function(t){e(t)}):i.callService(s,function(e){t(e.names)})},h.prototype.getTopicType=function(t,e,i){var s=new r({ros:this,name:"/rosapi/topic_type",serviceType:"rosapi/TopicType"}),n=new o({topic:t});"function"==typeof i?s.callService(n,function(t){e(t.type)},function(t){i(t)}):s.callService(n,function(t){e(t.type)})},h.prototype.getServiceType=function(t,e,i){var s=new r({ros:this,name:"/rosapi/service_type",serviceType:"rosapi/ServiceType"}),n=new o({service:t});"function"==typeof i?s.callService(n,function(t){e(t.type)},function(t){i(t)}):s.callService(n,function(t){e(t.type)})},h.prototype.getMessageDetails=function(t,e,i){var s=new r({ros:this,name:"/rosapi/message_details",serviceType:"rosapi/MessageDetails"}),n=new o({type:t});"function"==typeof i?s.callService(n,function(t){e(t.typedefs)},function(t){i(t)}):s.callService(n,function(t){e(t.typedefs)})},h.prototype.decodeTypeDefs=function(t){var e=this,i=function(t,s){for(var n={},r=0;r<t.fieldnames.length;r++){var o=t.fieldarraylen[r],a=t.fieldnames[r],c=t.fieldtypes[r];if(-1===c.indexOf("/"))n[a]=-1===o?c:[c];else{for(var h=!1,l=0;l<s.length;l++)if(s[l].type.toString()===c.toString()){h=s[l];break}if(h){var p=i(h,s);-1===o||(n[a]=[p])}else e.emit("error","Cannot find "+c+" in decodeTypeDefs")}}return n};return i(t[0],t)},t.exports=h},function(t,e,i){var s=i(2),n=i(5);function r(t){t=t||{},this.position=new s(t.position),this.orientation=new n(t.orientation)}r.prototype.applyTransform=function(t){this.position.multiplyQuaternion(t.rotation),this.position.add(t.translation);var e=t.rotation.clone();e.multiply(this.orientation),this.orientation=e},r.prototype.clone=function(){return new r(this)},r.prototype.multiply=function(t){var e=t.clone();return e.applyTransform({rotation:this.orientation,translation:this.position}),e},r.prototype.getInverse=function(){var t=this.clone();return t.orientation.invert(),t.position.multiplyQuaternion(t.orientation),t.position.x*=-1,t.position.y*=-1,t.position.z*=-1,t},t.exports=r},function(t,e,i){var s=i(20);function n(t){this.textureFilename=null,this.color=null,this.name=t.xml.getAttribute("name");var e=t.xml.getElementsByTagName("texture");e.length>0&&(this.textureFilename=e[0].getAttribute("filename"));var i=t.xml.getElementsByTagName("color");i.length>0&&(this.color=new s({xml:i[0]}))}n.prototype.isLink=function(){return null===this.color&&null===this.textureFilename};var r=i(0);n.prototype.assign=function(t){return r(this,t)},t.exports=n},function(t,e){t.exports=require("react")},function(t,e){t.exports=window.WebSocket},function(t,e,i){var s=i(0);t.exports=function(t){s(this,t)}},function(t,e,i){var s=i(8),n=i(3),r=i(1).EventEmitter2;function o(t){var e=this;t=t||{},this.ros=t.ros,this.serverName=t.serverName,this.actionName=t.actionName,this.timeout=t.timeout,this.omitFeedback=t.omitFeedback,this.omitStatus=t.omitStatus,this.omitResult=t.omitResult,this.goals={};var i=!1;this.feedbackListener=new s({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),this.statusListener=new s({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"}),this.resultListener=new s({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"}),this.goalTopic=new s({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),this.cancelTopic=new s({ros:this.ros,name:this.serverName+"/cancel",messageType:"actionlib_msgs/GoalID"}),this.goalTopic.advertise(),this.cancelTopic.advertise(),this.omitStatus||this.statusListener.subscribe(function(t){i=!0,t.status_list.forEach(function(t){var i=e.goals[t.goal_id.id];i&&i.emit("status",t)})}),this.omitFeedback||this.feedbackListener.subscribe(function(t){var i=e.goals[t.status.goal_id.id];i&&(i.emit("status",t.status),i.emit("feedback",t.feedback))}),this.omitResult||this.resultListener.subscribe(function(t){var i=e.goals[t.status.goal_id.id];i&&(i.emit("status",t.status),i.emit("result",t.result))}),this.timeout&&setTimeout(function(){i||e.emit("timeout")},this.timeout)}o.prototype.__proto__=r.prototype,o.prototype.cancel=function(){var t=new n;this.cancelTopic.publish(t)},o.prototype.dispose=function(){this.goalTopic.unadvertise(),this.cancelTopic.unadvertise(),this.omitStatus||this.statusListener.unsubscribe(),this.omitFeedback||this.feedbackListener.unsubscribe(),this.omitResult||this.resultListener.unsubscribe()},t.exports=o},function(t,e,i){var s=i(3),n=i(1).EventEmitter2;function r(t){var e=this;this.actionClient=t.actionClient,this.goalMessage=t.goalMessage,this.isFinished=!1;var i=new Date;this.goalID="goal_"+Math.random()+"_"+i.getTime(),this.goalMessage=new s({goal_id:{stamp:{secs:0,nsecs:0},id:this.goalID},goal:this.goalMessage}),this.on("status",function(t){e.status=t}),this.on("result",function(t){e.isFinished=!0,e.result=t}),this.on("feedback",function(t){e.feedback=t}),this.actionClient.goals[this.goalID]=this}r.prototype.__proto__=n.prototype,r.prototype.send=function(t){var e=this;e.actionClient.goalTopic.publish(e.goalMessage),t&&setTimeout(function(){e.isFinished||e.emit("timeout")},t)},r.prototype.cancel=function(){var t=new s({id:this.goalID});this.actionClient.cancelTopic.publish(t)},t.exports=r},function(t,e,i){var s=i(2),n=i(5);function r(t){t=t||{},this.translation=new s(t.translation),this.rotation=new n(t.rotation)}r.prototype.clone=function(){return new r(this)},t.exports=r},function(t,e,i){var s=i(2),n=i(6);t.exports=function(t){this.dimension=null,this.type=n.URDF_BOX;var e=t.xml.getAttribute("size").split(" ");this.dimension=new s({x:parseFloat(e[0]),y:parseFloat(e[1]),z:parseFloat(e[2])})}},function(t,e){t.exports=function(t){var e=t.xml.getAttribute("rgba").split(" ");this.r=parseFloat(e[0]),this.g=parseFloat(e[1]),this.b=parseFloat(e[2]),this.a=parseFloat(e[3])}},function(t,e,i){var s=i(6);t.exports=function(t){this.type=s.URDF_CYLINDER,this.length=parseFloat(t.xml.getAttribute("length")),this.radius=parseFloat(t.xml.getAttribute("radius"))}},function(t,e,i){var s=i(23);t.exports=function(t){this.name=t.xml.getAttribute("name"),this.visuals=[];for(var e=t.xml.getElementsByTagName("visual"),i=0;i<e.length;i++)this.visuals.push(new s({xml:e[i]}))}},function(t,e,i){var s=i(11),n=i(2),r=i(5),o=i(21),a=i(19),c=i(12),h=i(24),l=i(25);t.exports=function(t){var e=t.xml;this.origin=null,this.geometry=null,this.material=null;var i=e.getElementsByTagName("origin");if(0===i.length)this.origin=new s;else{var p=i[0].getAttribute("xyz"),u=new n;p&&(p=p.split(" "),u=new n({x:parseFloat(p[0]),y:parseFloat(p[1]),z:parseFloat(p[2])}));var f=i[0].getAttribute("rpy"),m=new r;if(f){f=f.split(" ");var d=parseFloat(f[0])/2,y=parseFloat(f[1])/2,v=parseFloat(f[2])/2,g=Math.sin(d)*Math.cos(y)*Math.cos(v)-Math.cos(d)*Math.sin(y)*Math.sin(v),b=Math.cos(d)*Math.sin(y)*Math.cos(v)+Math.sin(d)*Math.cos(y)*Math.sin(v),w=Math.cos(d)*Math.cos(y)*Math.sin(v)-Math.sin(d)*Math.sin(y)*Math.cos(v),_=Math.cos(d)*Math.cos(y)*Math.cos(v)+Math.sin(d)*Math.sin(y)*Math.sin(v);(m=new r({x:g,y:b,z:w,w:_})).normalize()}this.origin=new s({position:u,orientation:m})}var S=e.getElementsByTagName("geometry");if(S.length>0){for(var x=S[0],C=null,T=0;T<x.childNodes.length;T++){var k=x.childNodes[T];if(1===k.nodeType){C=k;break}}var A=C.nodeName;"sphere"===A?this.geometry=new l({xml:C}):"box"===A?this.geometry=new a({xml:C}):"cylinder"===A?this.geometry=new o({xml:C}):"mesh"===A?this.geometry=new h({xml:C}):console.warn("Unknown geometry type "+A)}var O=e.getElementsByTagName("material");O.length>0&&(this.material=new c({xml:O[0]}))}},function(t,e,i){var s=i(2),n=i(6);t.exports=function(t){this.scale=null,this.type=n.URDF_MESH,this.filename=t.xml.getAttribute("filename");var e=t.xml.getAttribute("scale");if(e){var i=e.split(" ");this.scale=new s({x:parseFloat(i[0]),y:parseFloat(i[1]),z:parseFloat(i[2])})}}},function(t,e,i){var s=i(6);t.exports=function(t){this.type=s.URDF_SPHERE,this.radius=parseFloat(t.xml.getAttribute("radius"))}},function(t,e,i){var s=this.ROSLIB||{REVISION:"1.0.1"},n=i(0);n(s,i(29)),n(s,i(37)),n(s,i(40)),n(s,i(41)),n(s,i(43)),t.exports=s},function(t,e){var i=i||{REVISION:"0.9.0"};createjs.Stage.prototype.globalToRos=function(t,e){var i=(t-this.x)/this.scaleX,s=(this.y-e)/this.scaleY;return new ROSLIB.Vector3({x:i,y:s})},createjs.Stage.prototype.rosToGlobal=function(t){return{x:t.x*this.scaleX+this.x,y:t.y*this.scaleY+this.y}},createjs.Stage.prototype.rosQuaternionToGlobalTheta=function(t){var e=t.w,i=t.x,s=t.y,n=t.z;return 180*-Math.atan2(2*(e*n+i*s),1-2*(s*s+n*n))/Math.PI},i.ImageMap=function(t){var e=(t=t||{}).message,i=t.image;this.pose=new ROSLIB.Pose({position:e.origin.position,orientation:e.origin.orientation}),this.width=e.width,this.height=e.height,createjs.Bitmap.call(this,i),this.y=-this.height*e.resolution,this.scaleX=e.resolution,this.scaleY=e.resolution,this.width*=this.scaleX,this.height*=this.scaleY,this.x+=this.pose.position.x,this.y-=this.pose.position.y},i.ImageMap.prototype.__proto__=createjs.Bitmap.prototype,i.ImageMapClient=function(t){var e=this,s=(t=t||{}).ros,n=t.topic||"/map_metadata";this.image=t.image,this.rootObject=t.rootObject||new createjs.Container,this.currentImage=new createjs.Shape;var r=new ROSLIB.Topic({ros:s,name:n,messageType:"nav_msgs/MapMetaData"});r.subscribe(function(t){r.unsubscribe(),e.currentImage=new i.ImageMap({message:t,image:e.image}),e.rootObject.addChild(e.currentImage),e.rootObject.addChild(new i.Grid({size:1})),e.emit("change")})},i.ImageMapClient.prototype.__proto__=EventEmitter2.prototype,i.OccupancyGrid=function(t){var e=(t=t||{}).message,i=document.createElement("canvas"),s=i.getContext("2d");this.pose=new ROSLIB.Pose({position:e.info.origin.position,orientation:e.info.origin.orientation}),this.width=e.info.width,this.height=e.info.height,i.width=this.width,i.height=this.height;for(var n=s.createImageData(this.width,this.height),r=0;r<this.height;r++)for(var o=0;o<this.width;o++){var a,c=o+(this.height-r-1)*this.width,h=e.data[c];a=100===h?0:0===h?255:127;var l=4*(o+r*this.width);n.data[l]=a,n.data[++l]=a,n.data[++l]=a,n.data[++l]=255}s.putImageData(n,0,0),createjs.Bitmap.call(this,i),this.y=-this.height*e.info.resolution,this.scaleX=e.info.resolution,this.scaleY=e.info.resolution,this.width*=this.scaleX,this.height*=this.scaleY,this.x+=this.pose.position.x,this.y-=this.pose.position.y},i.OccupancyGrid.prototype.__proto__=createjs.Bitmap.prototype,i.OccupancyGridClient=function(t){var e=this,s=(t=t||{}).ros,n=t.topic||"/map";this.continuous=t.continuous,this.rootObject=t.rootObject||new createjs.Container,this.currentGrid=new createjs.Shape,this.rootObject.addChild(this.currentGrid),this.rootObject.addChild(new i.Grid({size:1}));var r=new ROSLIB.Topic({ros:s,name:n,messageType:"nav_msgs/OccupancyGrid",compression:"png"});r.subscribe(function(t){var s=null;e.currentGrid&&(s=e.rootObject.getChildIndex(e.currentGrid),e.rootObject.removeChild(e.currentGrid)),e.currentGrid=new i.OccupancyGrid({message:t}),null!==s?e.rootObject.addChildAt(e.currentGrid,s):e.rootObject.addChild(e.currentGrid),e.emit("change"),e.continuous||r.unsubscribe()})},i.OccupancyGridClient.prototype.__proto__=EventEmitter2.prototype,i.OccupancyGridSrvClient=function(t){var e=this,s=(t=t||{}).ros,n=t.service||"/static_map";this.rootObject=t.rootObject||new createjs.Container,this.currentGrid=null,new ROSLIB.Service({ros:s,name:n,serviceType:"nav_msgs/GetMap",compression:"png"}).callService(new ROSLIB.ServiceRequest,function(t){e.currentGrid&&e.rootObject.removeChild(e.currentGrid),e.currentGrid=new i.OccupancyGrid({message:t.map}),e.rootObject.addChild(e.currentGrid),e.emit("change",e.currentGrid)})},i.OccupancyGridSrvClient.prototype.__proto__=EventEmitter2.prototype,i.ArrowShape=function(t){var e=this,i=(t=t||{}).size||10,s=t.strokeSize||3,n=t.strokeColor||createjs.Graphics.getRGB(0,0,0),r=t.fillColor||createjs.Graphics.getRGB(255,0,0),o=t.pulse,a=new createjs.Graphics,c=i/3,h=2*c/3;if(a.setStrokeStyle(s),a.beginStroke(n),a.moveTo(0,0),a.lineTo(i-c,0),a.beginFill(r),a.moveTo(i,0),a.lineTo(i-c,h/2),a.lineTo(i-c,-h/2),a.closePath(),a.endFill(),a.endStroke(),createjs.Shape.call(this,a),o){var l=0,p=!0;createjs.Ticker.addEventListener("tick",function(){p?(e.scaleX*=1.035,e.scaleY*=1.035,p=++l<10):(e.scaleX/=1.035,e.scaleY/=1.035,p=--l<0)})}},i.ArrowShape.prototype.__proto__=createjs.Shape.prototype,i.Grid=function(t){var e=(t=t||{}).size||10,i=t.cellSize||.1,s=t.lineWidth||.001,n=new createjs.Graphics;n.setStrokeStyle(5*s),n.beginStroke(createjs.Graphics.getRGB(0,0,0)),n.beginFill(createjs.Graphics.getRGB(255,0,0)),n.moveTo(-e*i,0),n.lineTo(e*i,0),n.moveTo(0,-e*i),n.lineTo(0,e*i),n.endFill(),n.endStroke(),n.setStrokeStyle(s),n.beginStroke(createjs.Graphics.getRGB(0,0,0)),n.beginFill(createjs.Graphics.getRGB(255,0,0));for(var r=-e;e>=r;r++)n.moveTo(-e*i,r*i),n.lineTo(e*i,r*i),n.moveTo(r*i,-e*i),n.lineTo(r*i,e*i);n.endFill(),n.endStroke(),createjs.Shape.call(this,n)},i.Grid.prototype.__proto__=createjs.Shape.prototype,i.NavigationArrow=function(t){var e=this,i=(t=t||{}).size||10,s=t.strokeSize||3,n=t.strokeColor||createjs.Graphics.getRGB(0,0,0),r=t.fillColor||createjs.Graphics.getRGB(255,0,0),o=t.pulse,a=new createjs.Graphics;if(a.setStrokeStyle(s),a.moveTo(-i/2,-i/2),a.beginStroke(n),a.beginFill(r),a.lineTo(i,0),a.lineTo(-i/2,i/2),a.closePath(),a.endFill(),a.endStroke(),createjs.Shape.call(this,a),o){var c=0,h=!0;createjs.Ticker.addEventListener("tick",function(){h?(e.scaleX*=1.035,e.scaleY*=1.035,h=++c<10):(e.scaleX/=1.035,e.scaleY/=1.035,h=--c<0)})}},i.NavigationArrow.prototype.__proto__=createjs.Shape.prototype,i.NavigationImage=function(t){var e=this,i=(t=t||{}).size||10,s=t.image,n=t.pulse,r=t.alpha||1,o={},a=function(t){return t/c.width},c=new Image;c.onload=function(){createjs.Bitmap.call(e,c);var t=a(i);if(e.alpha=r,e.scaleX=t,e.scaleY=t,e.regY=e.image.height/2,e.regX=e.image.width/2,o.rotation=e.rotation,Object.defineProperty(e,"rotation",{get:function(){return o.rotation+90},set:function(t){o.rotation=t}}),n){var s=0,h=!0,l=1.02;createjs.Ticker.addEventListener("tick",function(){h?(e.scaleX*=l,e.scaleY*=l,h=++s<10):(e.scaleX/=l,e.scaleY/=l,h=--s<0)})}},c.src=s},i.NavigationImage.prototype.__proto__=createjs.Bitmap.prototype,i.PathShape=function(t){var e=(t=t||{}).path;if(this.strokeSize=t.strokeSize||3,this.strokeColor=t.strokeColor||createjs.Graphics.getRGB(0,0,0),this.graphics=new createjs.Graphics,null!=e){this.graphics.setStrokeStyle(this.strokeSize),this.graphics.beginStroke(this.strokeColor),this.graphics.moveTo(e.poses[0].pose.position.x/this.scaleX,e.poses[0].pose.position.y/-this.scaleY);for(var i=1;i<e.poses.length;++i)this.graphics.lineTo(e.poses[i].pose.position.x/this.scaleX,e.poses[i].pose.position.y/-this.scaleY);this.graphics.endStroke()}createjs.Shape.call(this,this.graphics)},i.PathShape.prototype.setPath=function(t){if(this.graphics.clear(),null!=t){this.graphics.setStrokeStyle(this.strokeSize),this.graphics.beginStroke(this.strokeColor),this.graphics.moveTo(t.poses[0].pose.position.x/this.scaleX,t.poses[0].pose.position.y/-this.scaleY);for(var e=1;e<t.poses.length;++e)this.graphics.lineTo(t.poses[e].pose.position.x/this.scaleX,t.poses[e].pose.position.y/-this.scaleY);this.graphics.endStroke()}},i.PathShape.prototype.__proto__=createjs.Shape.prototype,i.PolygonMarker=function(t){t=t||{},this.lineSize=t.lineSize||3,this.lineColor=t.lineColor||createjs.Graphics.getRGB(0,0,255,.66),this.pointSize=t.pointSize||10,this.pointColor=t.pointColor||createjs.Graphics.getRGB(255,0,0,.66),this.fillColor=t.pointColor||createjs.Graphics.getRGB(0,255,0,.33),this.lineCallBack=t.lineCallBack,this.pointCallBack=t.pointCallBack,this.pointContainer=new createjs.Container,this.lineContainer=new createjs.Container,this.fillShape=new createjs.Shape,createjs.Container.call(this),this.addChild(this.fillShape),this.addChild(this.lineContainer),this.addChild(this.pointContainer)},i.PolygonMarker.prototype.createLineShape=function(t,e){var i=new createjs.Shape;this.editLineShape(i,t,e);var s=this;return i.addEventListener("mousedown",function(t){null!==s.lineCallBack&&void 0!==s.lineCallBack&&s.lineCallBack("mousedown",t,s.lineContainer.getChildIndex(t.target))}),i},i.PolygonMarker.prototype.editLineShape=function(t,e,i){t.graphics.clear(),t.graphics.setStrokeStyle(this.lineSize),t.graphics.beginStroke(this.lineColor),t.graphics.moveTo(e.x,e.y),t.graphics.lineTo(i.x,i.y)},i.PolygonMarker.prototype.createPointShape=function(t){var e=new createjs.Shape;e.graphics.beginFill(this.pointColor),e.graphics.drawCircle(0,0,this.pointSize),e.x=t.x,e.y=-t.y;var i=this;return e.addEventListener("mousedown",function(t){null!==i.pointCallBack&&void 0!==i.pointCallBack&&i.pointCallBack("mousedown",t,i.pointContainer.getChildIndex(t.target))}),e},i.PolygonMarker.prototype.addPoint=function(t){var e=this.createPointShape(t);this.pointContainer.addChild(e);var i=this.pointContainer.getNumChildren();if(2>i);else if(3>i){var s=this.createLineShape(this.pointContainer.getChildAt(i-2),e);this.lineContainer.addChild(s)}if(i>2&&this.editLineShape(this.lineContainer.getChildAt(i-2),this.pointContainer.getChildAt(i-2),e),i>1){var n=this.createLineShape(e,this.pointContainer.getChildAt(0));this.lineContainer.addChild(n)}this.drawFill()},i.PolygonMarker.prototype.remPoint=function(t){var e;e=t instanceof createjs.Shape?this.pointContainer.getChildIndex(t):t;var i=this.pointContainer.getNumChildren();2>i||(3>i?this.lineContainer.removeAllChildren():(this.editLineShape(this.lineContainer.getChildAt((e-1+i)%i),this.pointContainer.getChildAt((e-1+i)%i),this.pointContainer.getChildAt((e+1)%i)),this.lineContainer.removeChildAt(e))),this.pointContainer.removeChildAt(e),this.drawFill()},i.PolygonMarker.prototype.movePoint=function(t,e){var i,s;t instanceof createjs.Shape?(i=this.pointContainer.getChildIndex(t),s=t):(i=t,s=this.pointContainer.getChildAt(i)),s.x=e.x,s.y=-e.y;var n=this.pointContainer.getNumChildren();if(n>1){var r=this.lineContainer.getChildAt((i-1+n)%n);this.editLineShape(r,this.pointContainer.getChildAt((i-1+n)%n),s);var o=this.lineContainer.getChildAt(i);this.editLineShape(o,s,this.pointContainer.getChildAt((i+1)%n))}this.drawFill()},i.PolygonMarker.prototype.splitLine=function(t){var e,i;t instanceof createjs.Shape?(e=this.lineContainer.getChildIndex(t),i=t):(e=t,i=this.lineContainer.getChildAt(e));var s=this.pointContainer.getNumChildren(),n=this.pointContainer.getChildAt(e).x,r=this.pointContainer.getChildAt(e).y,o=(n+this.pointContainer.getChildAt((e+1)%s).x)/2,a=(r+this.pointContainer.getChildAt((e+1)%s).y)/2,c=new ROSLIB.Vector3({x:o,y:-a}),h=this.createPointShape(c);this.pointContainer.addChildAt(h,e+1),++s;var l=this.createLineShape(h,this.pointContainer.getChildAt((e+2)%s));this.lineContainer.addChildAt(l,e+1),this.editLineShape(i,this.pointContainer.getChildAt(e),h),this.drawFill()},i.PolygonMarker.prototype.drawFill=function(){var t=this.pointContainer.getNumChildren();if(t>2){var e=this.fillShape.graphics;e.clear(),e.setStrokeStyle(0),e.moveTo(this.pointContainer.getChildAt(0).x,this.pointContainer.getChildAt(0).y),e.beginStroke(),e.beginFill(this.fillColor);for(var i=1;t>i;++i)e.lineTo(this.pointContainer.getChildAt(i).x,this.pointContainer.getChildAt(i).y);e.closePath(),e.endFill(),e.endStroke()}else this.fillShape.graphics.clear()},i.PolygonMarker.prototype.__proto__=createjs.Container.prototype,i.TraceShape=function(t){var e=(t=t||{}).pose;this.strokeSize=t.strokeSize||3,this.strokeColor=t.strokeColor||createjs.Graphics.getRGB(0,0,0),this.maxPoses=t.maxPoses||100,this.minDist=t.minDist||.05,this.minDist=this.minDist*this.minDist,this.poses=[],this.graphics=new createjs.Graphics,this.graphics.setStrokeStyle(this.strokeSize),this.graphics.beginStroke(this.strokeColor),null!=e&&this.poses.push(e),createjs.Shape.call(this,this.graphics)},i.TraceShape.prototype.addPose=function(t){var e=this.poses.length-1;if(0>e)this.poses.push(t),this.graphics.moveTo(t.position.x/this.scaleX,t.position.y/-this.scaleY);else{var i=this.poses[e].position.x,s=this.poses[e].position.y,n=t.position.x-i,r=t.position.y-s;n*n+r*r>this.minDist&&(this.graphics.lineTo(t.position.x/this.scaleX,t.position.y/-this.scaleY),this.poses.push(t))}this.maxPoses>0&&this.maxPoses<this.poses.length&&this.popFront()},i.TraceShape.prototype.popFront=function(){if(this.poses.length>0){this.poses.shift(),this.graphics.clear(),this.graphics.setStrokeStyle(this.strokeSize),this.graphics.beginStroke(this.strokeColor),this.graphics.lineTo(this.poses[0].position.x/this.scaleX,this.poses[0].position.y/-this.scaleY);for(var t=1;t<this.poses.length;++t)this.graphics.lineTo(this.poses[t].position.x/this.scaleX,this.poses[t].position.y/-this.scaleY)}},i.TraceShape.prototype.__proto__=createjs.Shape.prototype,i.PanView=function(t){t=t||{},this.rootObject=t.rootObject,this.rootObject instanceof createjs.Stage?this.stage=this.rootObject:this.stage=this.rootObject.getStage(),this.startPos=new ROSLIB.Vector3},i.PanView.prototype.startPan=function(t,e){this.startPos.x=t,this.startPos.y=e},i.PanView.prototype.pan=function(t,e){this.stage.x+=t-this.startPos.x,this.startPos.x=t,this.stage.y+=e-this.startPos.y,this.startPos.y=e},i.Viewer=function(t){var e=(t=t||{}).divID;this.width=t.width,this.height=t.height;var i=t.background||"#111111",s=document.createElement("canvas");s.width=this.width,s.height=this.height,s.style.background=i,document.getElementById(e).appendChild(s),this.scene=new createjs.Stage(s),this.scene.y=this.height,document.getElementById(e).appendChild(s),createjs.Ticker.setFPS(30),createjs.Ticker.addEventListener("tick",this.scene)},i.Viewer.prototype.addObject=function(t){this.scene.addChild(t)},i.Viewer.prototype.scaleToDimensions=function(t,e){this.scene.x=void 0!==this.scene.x_prev_shift?this.scene.x_prev_shift:this.scene.x,this.scene.y=void 0!==this.scene.y_prev_shift?this.scene.y_prev_shift:this.scene.y,this.scene.scaleX=this.width/t,this.scene.scaleY=this.height/e},i.Viewer.prototype.shift=function(t,e){this.scene.x_prev_shift=this.scene.x,this.scene.y_prev_shift=this.scene.y,this.scene.x-=t*this.scene.scaleX,this.scene.y+=e*this.scene.scaleY},i.ZoomView=function(t){t=t||{},this.rootObject=t.rootObject,this.minScale=t.minScale||.001,this.rootObject instanceof createjs.Stage?this.stage=this.rootObject:this.stage=this.rootObject.getStage(),this.center=new ROSLIB.Vector3,this.startShift=new ROSLIB.Vector3,this.startScale=new ROSLIB.Vector3},i.ZoomView.prototype.startZoom=function(t,e){this.center.x=t,this.center.y=e,this.startShift.x=this.stage.x,this.startShift.y=this.stage.y,this.startScale.x=this.stage.scaleX,this.startScale.y=this.stage.scaleY},i.ZoomView.prototype.zoom=function(t){this.startScale.x*t<this.minScale&&(t=this.minScale/this.startScale.x),this.startScale.y*t<this.minScale&&(t=this.minScale/this.startScale.y),this.stage.scaleX=this.startScale.x*t,this.stage.scaleY=this.startScale.y*t,this.stage.x=this.startShift.x-(this.center.x-this.startShift.x)*(this.stage.scaleX/this.startScale.x-1),this.stage.y=this.startShift.y-(this.center.y-this.startShift.y)*(this.stage.scaleY/this.startScale.y-1)}},function(t,e,i){"use strict";i.r(e);var s=i(13),n=i.n(s),r=i(26),o=i.n(r),a=i(27),c=i.n(a);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function p(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var m=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,u(e).apply(this,arguments))}var i,r,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,s["Component"]),i=e,(r=[{key:"componentDidMount",value:function(){var t=new o.a.Ros({url:"ws://localhost:9090"}),e=new c.a.Viewer({divID:"test",width:400,height:300}),i=new ROS2d.OccupancyGridClient({ros:t,rootObject:e.scene});i.on("change",function(){e.scaleToDimensions(i.currentGrid.width,i.currentGrid.height),e.shift(i.currentGrid.pose.position.x,i.currentGrid.pose.position.y)})}},{key:"render",value:function(){return n.a.createElement("div",{id:"map"})}}])&&l(i.prototype,r),a&&l(i,a),e}();e.default=m},function(t,e,i){var s=i(9),n=t.exports={Ros:i(10),Topic:i(8),Message:i(3),Param:i(36),Service:i(7),ServiceRequest:i(4),ServiceResponse:i(15)};s(n.Ros,["Param","Service","Topic"],n)},function(t,e,i){"use strict";var s=i(31),n=i(33),r=i(34),o=(i(14),null);"undefined"!=typeof bson&&(o=bson().BSON),t.exports=function(t){function e(e){"publish"===e.op?t.emit(e.topic,e.msg):"service_response"===e.op?t.emit(e.id,e):"call_service"===e.op?t.emit(e.service,e):"status"===e.op&&(e.id?t.emit("status:"+e.id,e):t.emit("status",e))}function i(t,e){"png"===t.op?s(t.data,e):e(t)}return{onopen:function(e){t.isConnected=!0,t.emit("connection",e)},onclose:function(e){t.isConnected=!1,t.emit("close",e)},onerror:function(e){t.emit("error",e)},onmessage:function(t){"undefined"!=typeof Blob&&t.data instanceof Blob?function(t,e){if(!o)throw"Cannot process BSON encoded message without BSON header.";var i=new FileReader;i.onload=function(){var t=new Uint8Array(this.result),i=o.deserialize(t);e(i)},i.readAsArrayBuffer(t)}(t.data,function(t){i(t,e)}):t.data instanceof ArrayBuffer?e(n.decode(t.data,r)):i(JSON.parse("string"==typeof t?t:t.data),e)}}}},function(t,e,i){"use strict";var s=i(32),n=s.Image||window.Image;t.exports=function(t,e){var i=new n;i.onload=function(){var t=new s,n=t.getContext("2d");t.width=i.width,t.height=i.height,n.imageSmoothingEnabled=!1,n.webkitImageSmoothingEnabled=!1,n.mozImageSmoothingEnabled=!1,n.drawImage(i,0,0);for(var r=n.getImageData(0,0,i.width,i.height).data,o="",a=0;a<r.length;a+=4)o+=String.fromCharCode(r[a],r[a+1],r[a+2]);e(JSON.parse(o))},i.src="data:image/png;base64,"+t}},function(t,e){t.exports=function(){return document.createElement("canvas")}},function(t,e,i){var s,n;!function(r,o){"use strict";var a=Math.pow(2,-24),c=Math.pow(2,32),h=Math.pow(2,53);(n="function"==typeof(s={encode:function(t){var e,i=new ArrayBuffer(256),s=new DataView(i),n=0;function r(t){for(var r=i.byteLength,o=n+t;r<o;)r*=2;if(r!==i.byteLength){var a=s;i=new ArrayBuffer(r),s=new DataView(i);for(var c=n+3>>2,h=0;h<c;++h)s.setUint32(4*h,a.getUint32(4*h))}return e=t,s}function a(){n+=e}function l(t){a(r(1).setUint8(n,t))}function p(t){for(var e=r(t.length),i=0;i<t.length;++i)e.setUint8(n+i,t[i]);a()}function u(t,e){var i;e<24?l(t<<5|e):e<256?(l(t<<5|24),l(e)):e<65536?(l(t<<5|25),i=e,a(r(2).setUint16(n,i))):e<4294967296?(l(t<<5|26),function(t){a(r(4).setUint32(n,t))}(e)):(l(t<<5|27),function(t){var e=t%c,i=(t-e)/c,s=r(8);s.setUint32(n,i),s.setUint32(n+4,e),a()}(e))}if(function t(e){var i;if(!1===e)return l(244);if(!0===e)return l(245);if(null===e)return l(246);if(e===o)return l(247);switch(typeof e){case"number":if(Math.floor(e)===e){if(0<=e&&e<=h)return u(0,e);if(-h<=e&&e<0)return u(1,-(e+1))}return l(251),function(t){a(r(8).setFloat64(n,t))}(e);case"string":var s=[];for(i=0;i<e.length;++i){var c=e.charCodeAt(i);c<128?s.push(c):c<2048?(s.push(192|c>>6),s.push(128|63&c)):c<55296?(s.push(224|c>>12),s.push(128|c>>6&63),s.push(128|63&c)):(c=(1023&c)<<10,c|=1023&e.charCodeAt(++i),c+=65536,s.push(240|c>>18),s.push(128|c>>12&63),s.push(128|c>>6&63),s.push(128|63&c))}return u(3,s.length),p(s);default:var f;if(Array.isArray(e))for(u(4,f=e.length),i=0;i<f;++i)t(e[i]);else if(e instanceof Uint8Array)u(2,e.length),p(e);else{var m=Object.keys(e);for(u(5,f=m.length),i=0;i<f;++i){var d=m[i];t(d),t(e[d])}}}}(t),"slice"in i)return i.slice(0,n);for(var f=new ArrayBuffer(n),m=new DataView(f),d=0;d<n;++d)m.setUint8(d,s.getUint8(d));return f},decode:function(t,e,i){var s=new DataView(t),n=0;function r(t,e){return n+=e,t}function h(e){return r(new Uint8Array(t,n,e),e)}function l(){return r(s.getUint8(n),1)}function p(){return r(s.getUint16(n),2)}function u(){return r(s.getUint32(n),4)}function f(){return 255===s.getUint8(n)&&(n+=1,!0)}function m(t){if(t<24)return t;if(24===t)return l();if(25===t)return p();if(26===t)return u();if(27===t)return u()*c+u();if(31===t)return-1;throw"Invalid length encoding"}function d(t){var e=l();if(255===e)return-1;var i=m(31&e);if(i<0||e>>5!==t)throw"Invalid indefinite length element";return i}function y(t,e){for(var i=0;i<e;++i){var s=l();128&s&&(s<224?(s=(31&s)<<6|63&l(),e-=1):s<240?(s=(15&s)<<12|(63&l())<<6|63&l(),e-=2):(s=(15&s)<<18|(63&l())<<12|(63&l())<<6|63&l(),e-=3)),s<65536?t.push(s):(s-=65536,t.push(55296|s>>10),t.push(56320|1023&s))}}"function"!=typeof e&&(e=function(t){return t}),"function"!=typeof i&&(i=function(){return o});var v=function t(){var c,u,v=l(),g=v>>5,b=31&v;if(7===g)switch(b){case 25:return function(){var t=new ArrayBuffer(4),e=new DataView(t),i=p(),s=32768&i,n=31744&i,r=1023&i;if(31744===n)n=261120;else if(0!==n)n+=114688;else if(0!==r)return r*a;return e.setUint32(0,s<<16|n<<13|r<<13),e.getFloat32(0)}();case 26:return r(s.getFloat32(n),4);case 27:return r(s.getFloat64(n),8)}if((u=m(b))<0&&(g<2||6<g))throw"Invalid length";switch(g){case 0:return u;case 1:return-1-u;case 2:if(u<0){for(var w=[],_=0;(u=d(g))>=0;)_+=u,w.push(h(u));var S=new Uint8Array(_),x=0;for(c=0;c<w.length;++c)S.set(w[c],x),x+=w[c].length;return S}return h(u);case 3:var C=[];if(u<0)for(;(u=d(g))>=0;)y(C,u);else y(C,u);return String.fromCharCode.apply(null,C);case 4:var T;if(u<0)for(T=[];!f();)T.push(t());else for(T=new Array(u),c=0;c<u;++c)T[c]=t();return T;case 5:var k={};for(c=0;c<u||u<0&&!f();++c)k[t()]=t();return k;case 6:return e(t(),u);case 7:switch(u){case 20:return!1;case 21:return!0;case 22:return null;case 23:return o;default:return i(u)}}}();if(n!==t.byteLength)throw"Remaining bytes";return v}})?s.call(e,i,e,t):s)===o||(t.exports=n)}()},function(t,e,i){"use strict";var s=Math.pow(2,32),n=!1;function r(){n||(n=!0,console.warn("CBOR 64-bit integer array values may lose precision. No further warnings."))}var o={64:Uint8Array,69:Uint16Array,70:Uint32Array,72:Int8Array,77:Int16Array,78:Int32Array,85:Float32Array,86:Float64Array},a={71:function(t){r();for(var e=t.byteLength,i=t.byteOffset,n=e/8,o=t.buffer.slice(i,i+e),a=new Uint32Array(o),c=new Array(n),h=0;h<n;h++){var l=2*h,p=a[l],u=a[l+1];c[h]=p+s*u}return c},79:function(t){r();for(var e=t.byteLength,i=t.byteOffset,n=e/8,o=t.buffer.slice(i,i+e),a=new Uint32Array(o),c=new Int32Array(o),h=new Array(n),l=0;l<n;l++){var p=2*l,u=a[p],f=c[p+1];h[l]=u+s*f}return h}};t.exports&&(t.exports=function(t,e){if(e in o){var i=o[e];return n=i,r=(s=t).byteLength,c=s.byteOffset,new n(s.buffer.slice(c,c+r))}var s,n,r,c;return e in a?a[e](t):t})},function(t,e){var i,s,n=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(i===setTimeout)return setTimeout(t,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:r}catch(t){i=r}try{s="function"==typeof clearTimeout?clearTimeout:o}catch(t){s=o}}();var c,h=[],l=!1,p=-1;function u(){l&&c&&(l=!1,c.length?h=c.concat(h):p=-1,h.length&&f())}function f(){if(!l){var t=a(u);l=!0;for(var e=h.length;e;){for(c=h,h=[];++p<e;)c&&c[p].run();p=-1,e=h.length}c=null,l=!1,function(t){if(s===clearTimeout)return clearTimeout(t);if((s===o||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(t);try{s(t)}catch(e){try{return s.call(null,t)}catch(e){return s.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function d(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];h.push(new m(t,e)),1!==h.length||l||a(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=d,n.addListener=d,n.once=d,n.off=d,n.removeListener=d,n.removeAllListeners=d,n.emit=d,n.prependListener=d,n.prependOnceListener=d,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,i){var s=i(7),n=i(4);function r(t){t=t||{},this.ros=t.ros,this.name=t.name}r.prototype.get=function(t){var e=new s({ros:this.ros,name:"/rosapi/get_param",serviceType:"rosapi/GetParam"}),i=new n({name:this.name});e.callService(i,function(e){var i=JSON.parse(e.value);t(i)})},r.prototype.set=function(t,e){var i=new s({ros:this.ros,name:"/rosapi/set_param",serviceType:"rosapi/SetParam"}),r=new n({name:this.name,value:JSON.stringify(t)});i.callService(r,e)},r.prototype.delete=function(t){var e=new s({ros:this.ros,name:"/rosapi/delete_param",serviceType:"rosapi/DeleteParam"}),i=new n({name:this.name});e.callService(i,t)},t.exports=r},function(t,e,i){var s=i(10);i(9)(s,["ActionClient","SimpleActionServer"],t.exports={ActionClient:i(16),ActionListener:i(38),Goal:i(17),SimpleActionServer:i(39)})},function(t,e,i){var s=i(8),n=(i(3),i(1).EventEmitter2);function r(t){var e=this;t=t||{},this.ros=t.ros,this.serverName=t.serverName,this.actionName=t.actionName,this.timeout=t.timeout,this.omitFeedback=t.omitFeedback,this.omitStatus=t.omitStatus,this.omitResult=t.omitResult;var i=new s({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),n=new s({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),r=new s({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"}),o=new s({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"});i.subscribe(function(t){e.emit("goal",t)}),r.subscribe(function(t){t.status_list.forEach(function(t){e.emit("status",t)})}),n.subscribe(function(t){e.emit("status",t.status),e.emit("feedback",t.feedback)}),o.subscribe(function(t){e.emit("status",t.status),e.emit("result",t.result)})}r.prototype.__proto__=n.prototype,t.exports=r},function(t,e,i){var s=i(8),n=i(3),r=i(1).EventEmitter2;function o(t){var e=this;t=t||{},this.ros=t.ros,this.serverName=t.serverName,this.actionName=t.actionName,this.feedbackPublisher=new s({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),this.feedbackPublisher.advertise();var i=new s({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"});i.advertise(),this.resultPublisher=new s({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"}),this.resultPublisher.advertise();var r=new s({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),o=new s({ros:this.ros,name:this.serverName+"/cancel",messageType:"actionlib_msgs/GoalID"});this.statusMessage=new n({header:{stamp:{secs:0,nsecs:100},frame_id:""},status_list:[]}),this.currentGoal=null,this.nextGoal=null,r.subscribe(function(t){e.currentGoal?(e.nextGoal=t,e.emit("cancel")):(e.statusMessage.status_list=[{goal_id:t.goal_id,status:1}],e.currentGoal=t,e.emit("goal",t.goal))});var a=function(t,e){return!(t.secs>e.secs)&&(t.secs<e.secs||t.nsecs<e.nsecs)};o.subscribe(function(t){0===t.stamp.secs&&0===t.stamp.secs&&""===t.id?(e.nextGoal=null,e.currentGoal&&e.emit("cancel")):(e.currentGoal&&t.id===e.currentGoal.goal_id.id?e.emit("cancel"):e.nextGoal&&t.id===e.nextGoal.goal_id.id&&(e.nextGoal=null),e.nextGoal&&a(e.nextGoal.goal_id.stamp,t.stamp)&&(e.nextGoal=null),e.currentGoal&&a(e.currentGoal.goal_id.stamp,t.stamp)&&e.emit("cancel"))});setInterval(function(){var t=new Date,s=Math.floor(t.getTime()/1e3),n=Math.round(1e9*(t.getTime()/1e3-s));e.statusMessage.header.stamp.secs=s,e.statusMessage.header.stamp.nsecs=n,i.publish(e.statusMessage)},500)}o.prototype.__proto__=r.prototype,o.prototype.setSucceeded=function(t){var e=new n({status:{goal_id:this.currentGoal.goal_id,status:3},result:t});this.resultPublisher.publish(e),this.statusMessage.status_list=[],this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit("goal",this.currentGoal.goal)):this.currentGoal=null},o.prototype.sendFeedback=function(t){var e=new n({status:{goal_id:this.currentGoal.goal_id,status:1},feedback:t});this.feedbackPublisher.publish(e)},o.prototype.setPreempted=function(){this.statusMessage.status_list=[];var t=new n({status:{goal_id:this.currentGoal.goal_id,status:2}});this.resultPublisher.publish(t),this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit("goal",this.currentGoal.goal)):this.currentGoal=null},t.exports=o},function(t,e,i){t.exports={Pose:i(11),Quaternion:i(5),Transform:i(18),Vector3:i(2)}},function(t,e,i){var s=i(10);i(9)(s,["TFClient"],t.exports={TFClient:i(42)})},function(t,e,i){i(16);var s=i(17),n=(i(7),i(4)),r=i(18);function o(t){t=t||{},this.ros=t.ros,this.fixedFrame=t.fixedFrame||"/base_link",this.angularThres=t.angularThres||2,this.transThres=t.transThres||.01,this.rate=t.rate||10,this.updateDelay=t.updateDelay||50;var e=t.topicTimeout||2,i=Math.floor(e),s=Math.floor(1e9*(e-i));this.topicTimeout={secs:i,nsecs:s},this.serverName=t.serverName||"/tf2_web_republisher",this.repubServiceName=t.repubServiceName||"/republish_tfs",this.currentGoal=!1,this.currentTopic=!1,this.frameInfos={},this.republisherUpdateRequested=!1,this.actionClient=this.ros.ActionClient({serverName:this.serverName,actionName:"tf2_web_republisher/TFSubscriptionAction",omitStatus:!0,omitResult:!0}),this.serviceClient=this.ros.Service({name:this.repubServiceName,serviceType:"tf2_web_republisher/RepublishTFs"})}o.prototype.processTFArray=function(t){t.transforms.forEach(function(t){var e=t.child_frame_id;"/"===e[0]&&(e=e.substring(1));var i=this.frameInfos[e];i&&(i.transform=new r({translation:t.transform.translation,rotation:t.transform.rotation}),i.cbs.forEach(function(t){t(i.transform)}))},this)},o.prototype.updateGoal=function(){var t={source_frames:Object.keys(this.frameInfos),target_frame:this.fixedFrame,angular_thres:this.angularThres,trans_thres:this.transThres,rate:this.rate};if(this.ros.groovyCompatibility)this.currentGoal&&this.currentGoal.cancel(),this.currentGoal=new s({actionClient:this.actionClient,goalMessage:t}),this.currentGoal.on("feedback",this.processTFArray.bind(this)),this.currentGoal.send();else{t.timeout=this.topicTimeout;var e=new n(t);this.serviceClient.callService(e,this.processResponse.bind(this))}this.republisherUpdateRequested=!1},o.prototype.processResponse=function(t){this.currentTopic&&this.currentTopic.unsubscribe(),this.currentTopic=this.ros.Topic({name:t.topic_name,messageType:"tf2_web_republisher/TFArray"}),this.currentTopic.subscribe(this.processTFArray.bind(this))},o.prototype.subscribe=function(t,e){"/"===t[0]&&(t=t.substring(1)),this.frameInfos[t]?this.frameInfos[t].transform&&e(this.frameInfos[t].transform):(this.frameInfos[t]={cbs:[]},this.republisherUpdateRequested||(setTimeout(this.updateGoal.bind(this),this.updateDelay),this.republisherUpdateRequested=!0)),this.frameInfos[t].cbs.push(e)},o.prototype.unsubscribe=function(t,e){"/"===t[0]&&(t=t.substring(1));for(var i=this.frameInfos[t],s=i&&i.cbs||[],n=s.length;n--;)s[n]===e&&s.splice(n,1);e&&0!==s.length||delete this.frameInfos[t]},o.prototype.dispose=function(){this.actionClient.dispose(),this.currentTopic&&this.currentTopic.unsubscribe()},t.exports=o},function(t,e,i){t.exports=i(0)({UrdfBox:i(19),UrdfColor:i(20),UrdfCylinder:i(21),UrdfLink:i(22),UrdfMaterial:i(12),UrdfMesh:i(24),UrdfModel:i(44),UrdfSphere:i(25),UrdfVisual:i(23)},i(6))},function(t,e,i){var s=i(12),n=i(22),r=i(45),o=i(46).DOMParser;t.exports=function(t){var e=(t=t||{}).xml,i=t.string;this.materials={},this.links={},this.joints={},i&&(e=(new o).parseFromString(i,"text/xml"));var a=e.documentElement;this.name=a.getAttribute("name");for(var c=a.childNodes,h=0;h<c.length;h++){var l=c[h];if("material"===l.tagName){var p=new s({xml:l});void 0!==this.materials[p.name]?this.materials[p.name].isLink()?this.materials[p.name].assign(p):console.warn("Material "+p.name+"is not unique."):this.materials[p.name]=p}else if("link"===l.tagName){var u=new n({xml:l});if(void 0!==this.links[u.name])console.warn("Link "+u.name+" is not unique.");else{for(var f=0;f<u.visuals.length;f++){var m=u.visuals[f].material;null!==m&&(void 0!==this.materials[m.name]?u.visuals[f].material=this.materials[m.name]:this.materials[m.name]=m)}this.links[u.name]=u}}else if("joint"===l.tagName){var d=new r({xml:l});this.joints[d.name]=d}}}},function(t,e,i){var s=i(11),n=i(2),r=i(5);t.exports=function(t){this.name=t.xml.getAttribute("name"),this.type=t.xml.getAttribute("type");var e=t.xml.getElementsByTagName("parent");e.length>0&&(this.parent=e[0].getAttribute("link"));var i=t.xml.getElementsByTagName("child");i.length>0&&(this.child=i[0].getAttribute("link"));var o=t.xml.getElementsByTagName("limit");o.length>0&&(this.minval=parseFloat(o[0].getAttribute("lower")),this.maxval=parseFloat(o[0].getAttribute("upper")));var a=t.xml.getElementsByTagName("origin");if(0===a.length)this.origin=new s;else{var c=a[0].getAttribute("xyz"),h=new n;c&&(c=c.split(" "),h=new n({x:parseFloat(c[0]),y:parseFloat(c[1]),z:parseFloat(c[2])}));var l=a[0].getAttribute("rpy"),p=new r;if(l){l=l.split(" ");var u=parseFloat(l[0])/2,f=parseFloat(l[1])/2,m=parseFloat(l[2])/2,d=Math.sin(u)*Math.cos(f)*Math.cos(m)-Math.cos(u)*Math.sin(f)*Math.sin(m),y=Math.cos(u)*Math.sin(f)*Math.cos(m)+Math.sin(u)*Math.cos(f)*Math.sin(m),v=Math.cos(u)*Math.cos(f)*Math.sin(m)-Math.sin(u)*Math.sin(f)*Math.cos(m),g=Math.cos(u)*Math.cos(f)*Math.cos(m)+Math.sin(u)*Math.sin(f)*Math.sin(m);(p=new r({x:d,y:y,z:v,w:g})).normalize()}this.origin=new s({position:h,orientation:p})}}},function(t,e){e.DOMImplementation=window.DOMImplementation,e.XMLSerializer=window.XMLSerializer,e.DOMParser=window.DOMParser}]);